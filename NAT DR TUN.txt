Virtual Server via NAT

VS/NAT
	
	优点
		
		是服务器可以运行任何支持TCP/IP的操作系统，它只需要一个IP地址配置在调度器上，服务器组可以用私有的IP地址。
	
	缺点
		
		是它的伸缩能力有限， 

  	基于VS/NAT的的集群系统可以适合许多服务器的性能要求。
	
 	如果负载调度器成为系统新的瓶颈，可以有三种方法解决这个问题：混合方法、VS/TUN和VS/DR。
 
 	在DNS混合集群系统中，有若干个VS/NAT负载调度器，每个负载调度器带自己的服务器集群，
 
 	同时这些负载调度器又通过RR-DNS组成简 单的域名。但VS/TUN和VS/DR是提高系统吞吐量的更好方法。 
	
	对于那些将IP地址或者端口号在报文数据中传送的网络服务，需要编写相应的应用模块来转换报文数据中的IP地址或者端口号。

	这会带来实现的工作量，同时应用模块检查报文的开销会降低系统的吞吐率。

Virtual Server via IP Tunneling 

	VS/TUN的集群系统中，负载调度器只将请求调度到不同的后端服务器，后端服务器将应答的数据直接返回给用户。
	
	这样，负载调度器就可以处理大量的请求，它甚至可以调度百台以上的服务器（同等规模的服务器）而它不会成为系统的瓶颈。
	
	即使负载调度器只有100Mbps的全双工网卡，整个系统的最大吞吐量可超过1Gbps。
	
	所以，VS/TUN可以极大地增加负载调度器调度的服务器数量。
	
	VS/TUN调度器可以调度上百台服务器，而它本身不会成为系统的瓶颈，可以 用来构建高性能的超级服务器。 
  	
	VS/TUN技术对服务器有要求，即所有的服务器必须支持“IPTunneling”或者“IPEncapsulation”协议。
	
	目前，VS/TUN的后端服务器主要运行Linux操作系统，我们没对其他操作系统进行测试。
	
	因为“IP Tunneling”正成为各个操作系统的标准协议，所以VS/TUN应该会适用运行其他操作系统的后端服务器。

Virtual Server via Direct Routing 

  	跟VS/TUN方法一样，VS/DR调度器只处理客户到服务器端的连接，响应数据可以直接从独立的网络路由返回给客户。

	这可以极大地提高LVS集群统的伸缩性。
	
  	跟VS/TUN相比，这种方法没有IP隧道的开销，

	但是要求负载调度器与实际服务器都有一块网卡连在同一物理网段上，
	
	服务器网络设备（或者设备别名）不作ARP响应，或者能将报文重定向（Redirect）到本地的Socket端口上。

三种方法的优缺点比较 

	种IP负载均衡技术的优缺点归纳在下表中：

-	VS/NAT	VS/TUN	VS/DR
Server	any	Tunneling	Non-arp device
server network	private	LAN/WAN	LAN
server number	low (10~20)	High (100)	High (100)
server gateway	load balancer	own router	own router

 以上三种方法所能支持最大服务器数目的估计是假设调度器使用100M网卡，调度器的硬件配置与后端服务器的硬件配置相同，而且是对一般Web服务
 
使用更高的硬件配置（如千兆网卡和更快的处理器）作为调度器，调度器所能调度的服务器数量会相应增加。
 
当应用不同时，服务器的数目也会相应地改变。所以，以上数 据估计主要是为三种方法的伸缩性进行量化比较.